<div class="container-fluid">
  <app-page-subheader page="home"></app-page-subheader>
  <div class="row mx-auto">
    <div class="col col-6">
      <div class="card mb-3">
        <div class="card-header">
          {{ "app.views.home.automatico" | translate }}
        </div>
        <div class="card-body">
          <app-time-controller
            (action)="onSubmitAction($event)"
            [ponto]="ponto"
          ></app-time-controller>
        </div>
      </div>
    </div>
    <div class="col col-6">
      <div class="card">
        <div class="card-header">{{ "app.views.home.manual" | translate }}</div>
        <div class="card-body">
          <form [formGroup]="form" (ngSubmit)="onSubmitForm()" novalidate>
            <div class="row m-auto justify-content-center">
              <app-date-picker
                [label]="'app.views.home.date' | translate"
                [parentForm]="form"
                [controlName]="'date'"
                dayTemplate="YYYY"
              ></app-date-picker>
            </div>
            <fieldset class="mb-3 text-center">
              <legend>{{ "app.views.home.inicio_e_fim" | translate }}</legend>
              <div class="row mt-3">
                <div class="col col-6">
                  <app-timepicker
                    [label]="'app.views.home.start' | translate"
                    [controlName]="'entrada'"
                    [parentForm]="form"
                  ></app-timepicker>
                </div>
                <div class="col col-6">
                  <app-timepicker
                    [label]="'app.views.home.end' | translate"
                    [parentForm]="form"
                    [controlName]="'saida'"
                  ></app-timepicker>
                </div>
              </div>
            </fieldset>
            <fieldset class="mb-3 text-center">
              <legend>{{ "app.views.home.lunch" | translate }}</legend>
              <div class="row mt-3">
                <div class="col col-6">
                  <app-timepicker
                    [label]="'app.views.home.start_lunch' | translate"
                    [controlName]="'inicioAlmoco'"
                    [parentForm]="form"
                  ></app-timepicker>
                </div>
                <div class="col col-6">
                  <app-timepicker
                    [label]="'app.views.home.end_lunch' | translate"
                    [parentForm]="form"
                    [controlName]="'voltaAlmoco'"
                  ></app-timepicker>
                </div>
              </div>
            </fieldset>
            <div class="row m-auto text-center">
              <div class="col col-12 text-center pt-3">
                <button type="submit" *ngIf="!isLoading" class="btn btn-primary" [disabled]="form.invalid">
                  {{ "app.views.home.send" | translate }}
                </button>
                <button class="btn btn-primary" *ngIf="isLoading"  type="button" disabled>
                    <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                    {{ "app.views.home.send" | translate }}
                  </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
